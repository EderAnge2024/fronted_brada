import{f as T,r as n,j as e}from"./index-DM_27y1d.js";const f="_container_dnvyu_3",S="_title_dnvyu_17",E="_formSection_dnvyu_31",P="_form_dnvyu_31",w="_input_dnvyu_63",I="_button_dnvyu_91",k="_buttonSecondary_dnvyu_121",$="_buttonEdit_dnvyu_137",A="_buttonDanger_dnvyu_153",L="_listSection_dnvyu_171",O="_categoriaList_dnvyu_185",W="_categoriaItem_dnvyu_197",q="_categoriaText_dnvyu_211",F="_actions_dnvyu_221",G="_modalOverlay_dnvyu_235",U="_modalWindow_dnvyu_261",R="_modalClose_dnvyu_279",z="_modalTitle_dnvyu_297",B="_modalActions_dnvyu_307",t={container:f,title:S,formSection:E,form:P,input:w,button:I,buttonSecondary:k,buttonEdit:$,buttonDanger:A,listSection:L,categoriaList:O,categoriaItem:W,categoriaText:q,actions:F,modalOverlay:G,modalWindow:U,modalClose:R,modalTitle:z,modalActions:B},J=()=>{const{addCategoria:g,fetchCategoria:o,categorias:h,deleteCategoria:v,updateCategoria:x}=T(),[l,s]=n.useState(null),[i,d]=n.useState({Tipo_Producto:"",Descripcion:""}),[c,u]=n.useState({Tipo_Producto:"",Descripcion:""});n.useEffect(()=>{o()},[o]);const m=a=>{const{name:r,value:D}=a.target;d(N=>({...N,[r]:D}))},y=async a=>{a.preventDefault(),await g(i),d({Tipo_Producto:"",Descripcion:""})},C=async a=>{window.confirm("¿Estás seguro de eliminar esta categoría?")&&(await v(a),o())},b=a=>{s(a),u({Tipo_Producto:a.Tipo_Producto,Descripcion:a.Descripcion})},_=a=>{u(r=>({...r,[a.target.name]:a.target.value}))},j=async()=>{await x(l.ID_Categoria,c),o(),s(null)},p=()=>{s(null)};return e.jsxs("div",{className:t.container,children:[e.jsxs("div",{className:t.formSection,children:[e.jsx("h1",{className:t.title,children:"Agregar categorías"}),e.jsxs("form",{onSubmit:y,className:t.form,children:[e.jsx("input",{type:"text",placeholder:"Tipo de producto",required:!0,name:"Tipo_Producto",value:i.Tipo_Producto,onChange:m,className:t.input}),e.jsx("input",{type:"text",placeholder:"Descripción",required:!0,name:"Descripcion",value:i.Descripcion,onChange:m,className:t.input}),e.jsx("button",{type:"submit",className:t.button,children:"Guardar Datos"})]})]}),e.jsxs("div",{className:t.listSection,children:[e.jsx("h1",{className:t.title,children:"Lista de categorías"}),e.jsx("div",{className:t.categoriaList,children:h.map(a=>e.jsxs("div",{className:t.categoriaItem,children:[e.jsxs("p",{className:t.categoriaText,children:["Nombre: ",a.Tipo_Producto]}),e.jsxs("p",{className:t.categoriaText,children:["Descripción: ",a.Descripcion]}),e.jsxs("div",{className:t.actions,children:[e.jsx("button",{onClick:()=>C(a.ID_Categoria),className:`${t.button} ${t.buttonDanger}`,children:"Eliminar"}),e.jsx("button",{onClick:()=>b(a),className:`${t.button} ${t.buttonEdit}`,children:"Editar"})]})]},a.ID_Categoria))}),l&&e.jsx("div",{className:t.modalOverlay,children:e.jsxs("div",{className:t.modalWindow,children:[e.jsx("span",{className:t.modalClose,onClick:p,children:"×"}),e.jsx("h3",{className:t.modalTitle,children:"Editar categoría"}),e.jsx("input",{type:"text",name:"Tipo_Producto",value:c.Tipo_Producto,onChange:_,placeholder:"Tipo de categoría",className:t.input}),e.jsx("input",{type:"text",name:"Descripcion",value:c.Descripcion,onChange:_,placeholder:"Descripción",className:t.input}),e.jsxs("div",{className:t.modalActions,children:[e.jsx("button",{onClick:j,className:t.button,children:"Guardar"}),e.jsx("button",{onClick:p,className:`${t.button} ${t.buttonSecondary}`,children:"Cancelar"})]})]})})]})]})};export{J as default};
