import{u as g,r as d,j as a}from"./index-DM_27y1d.js";const f="_container_1bj5q_7",q="_formContainer_1bj5q_39",y="_listContainer_1bj5q_103",U="_adminCard_1bj5q_117",B="_adminInfo_1bj5q_151",D="_saveBtn_1bj5q_193",w="_editBtn_1bj5q_211",I="_deleteBtn_1bj5q_229",k="_modalOverlay_1bj5q_249",S="_modalWindow_1bj5q_275",O="_modalClose_1bj5q_295",W="_botones_1bj5q_341",n={container:f,formContainer:q,listContainer:y,adminCard:U,adminInfo:B,saveBtn:D,editBtn:w,deleteBtn:I,modalOverlay:k,modalWindow:S,modalClose:O,botones:W},F=()=>{const{addAdministrador:p,fetchAdministrador:i,administradors:j,deleteAdministrador:x,updateAdministrador:N}=g(),[m,l]=d.useState(null),[r,h]=d.useState({Nombre_Administrador:"",Usuario:"",Contrasena:"",NumAdministrador:"",Email:""}),[t,C]=d.useState({Nombre_Administrador:"",Usuario:"",Contrasena:"",NumAdministrador:"",Email:""});d.useEffect(()=>{i()},[i]);const s=e=>{const{name:c,value:u}=e.target;h({...r,[c]:u})},b=async e=>{e.preventDefault(),await p(r),h({Nombre_Administrador:"",Usuario:"",Contrasena:"",NumAdministrador:""}),i()},A=e=>{window.confirm("¿Estás seguro de eliminar este administrador?")&&(x(e),i())},v=e=>{l(e),C({Nombre_Administrador:e.Nombre_Administrador,Usuario:e.Usuario,Contrasena:e.Contrasena,NumAdministrador:e.NumAdministrador,Email:e.Email||""})},o=e=>{const{name:c,value:u}=e.target;C({...t,[c]:u})},E=async()=>{const e={Nombre_Administrador:t.Nombre_Administrador,Usuario:t.Usuario,NumAdministrador:t.NumAdministrador,Email:t.Email};t.Contrasena&&t.Contrasena!==m.Contrasena&&(e.Contrasena=t.Contrasena),await N(m.ID_Administrador,e),i(),l(null)},_=()=>{l(null)};return a.jsxs("div",{className:n.container,children:[a.jsxs("div",{className:n.formContainer,children:[a.jsx("h1",{children:"Agregar administradores"}),a.jsxs("form",{onSubmit:b,children:[a.jsx("input",{type:"text",placeholder:"Nombre del administrador",required:!0,name:"Nombre_Administrador",value:r.Nombre_Administrador,onChange:s}),a.jsx("input",{type:"text",placeholder:"Nombre de usuario",required:!0,name:"Usuario",value:r.Usuario,onChange:s}),a.jsx("input",{type:"password",placeholder:"Contraseña",required:!0,name:"Contrasena",value:r.Contrasena,onChange:s}),a.jsx("input",{type:"text",placeholder:"NumAdministrador",required:!0,name:"NumAdministrador",value:r.NumAdministrador,onChange:s}),a.jsx("input",{type:"email",placeholder:"Email",required:!0,name:"Email",value:r.Email,onChange:s}),a.jsx("button",{className:n.saveBtn,children:"Guardar Datos"})]})]}),a.jsxs("div",{className:n.listContainer,children:[a.jsx("h1",{children:"Lista de administradores"}),a.jsx("div",{children:j.map(e=>a.jsxs("div",{className:n.adminCard,children:[a.jsxs("div",{className:n.adminInfo,children:[a.jsxs("p",{children:["Nombre: ",e.Nombre_Administrador]}),a.jsxs("p",{children:["Usuario: ",e.Usuario]}),a.jsxs("p",{children:["Contraseña: ",e.Contrasena.replace(/./g,"*")]}),a.jsxs("p",{children:["Email: ",e.Email]})]}),a.jsxs("div",{children:[a.jsx("button",{className:n.deleteBtn,onClick:()=>A(e.ID_Administrador),children:"Eliminar"}),a.jsx("button",{className:n.editBtn,onClick:()=>v(e),children:"Editar"})]})]},e.ID_Administrador))}),m&&a.jsx("div",{className:n.modalOverlay,children:a.jsxs("div",{className:n.modalWindow,children:[a.jsx("span",{className:n.modalClose,onClick:_,children:"×"}),a.jsx("h3",{children:"Editar administrador"}),a.jsx("input",{type:"text",name:"Nombre_Administrador",value:t.Nombre_Administrador,onChange:o,placeholder:"Nombre del administrador"}),a.jsx("input",{type:"text",name:"Usuario",value:t.Usuario,onChange:o,placeholder:"Nombre de usuario"}),a.jsx("input",{type:"password",name:"Contrasena",value:t.Contrasena,onChange:o,placeholder:"Contraseña"}),a.jsx("input",{type:"text",name:"NumAdministrador",value:t.NumAdministrador,onChange:o,placeholder:"NumAdministrador"}),a.jsx("input",{type:"email",name:"Email",value:t.Email,onChange:o,placeholder:"Email"}),a.jsxs("div",{className:n.botones,children:[a.jsx("button",{className:n.saveBtn,onClick:E,children:"Guardar"}),a.jsx("button",{className:n.deleteBtn,onClick:_,children:"Cancelar"})]})]})})]})]})};export{F as default};
