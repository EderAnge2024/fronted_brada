import{h as v,r as i,j as e}from"./index-DM_27y1d.js";const f="_container_3sb0t_1",y="_formContainer_3sb0t_25",g="_formTitle_3sb0t_41",S="_form_3sb0t_25",U="_input_3sb0t_63",T="_button_3sb0t_77",E="_listContainer_3sb0t_113",B="_listTitle_3sb0t_121",$="_detalleCard_3sb0t_131",k="_detalleInfo_3sb0t_149",q="_actions_3sb0t_163",w="_deleteButton_3sb0t_175",F="_editButton_3sb0t_191",V="_monetaryValue_3sb0t_207",O="_modalOverlay_3sb0t_217",W="_modalWindow_3sb0t_243",G="_modalClose_3sb0t_261",A="_modalTitle_3sb0t_287",L="_modalForm_3sb0t_297",R="_botones_3sb0t_309",t={container:f,formContainer:y,formTitle:g,form:S,input:U,button:T,listContainer:E,listTitle:B,detalleCard:$,detalleInfo:k,actions:q,deleteButton:w,editButton:F,monetaryValue:V,modalOverlay:O,modalWindow:W,modalClose:G,modalTitle:A,modalForm:L,botones:R},H=()=>{const{addDetallePedido:p,fetchDetallePedido:d,detallePedidos:h,deleteDetallePedido:D,updateDetallePedido:x}=v(),[c,r]=i.useState(null),[o,u]=i.useState({ID_Pedido:"",ID_Producto:"",Cantidad:"",Precio_Unitario:"",Descuento:"",Subtotal:""}),[n,m]=i.useState({ID_Pedido:"",ID_Producto:"",Cantidad:"",Precio_Unitario:"",Descuento:"",Subtotal:""});i.useEffect(()=>{d()},[]);const s=a=>{const{name:I,value:N}=a.target;u({...o,[I]:N})},b=async a=>{a.preventDefault(),p(o),u({ID_Pedido:"",ID_Producto:"",Cantidad:"",Precio_Unitario:"",Descuento:"",Subtotal:""}),alert("Se agregaron los detalles del pedido")},C=a=>{window.confirm("¿Estás seguro de eliminar este detalle?")&&(D(a),d())},P=a=>{r(a),m({ID_Pedido:a.ID_Pedido,ID_Producto:a.ID_Producto,Cantidad:a.Cantidad,Precio_Unitario:a.Precio_Unitario,Descuento:a.Descuento,Subtotal:a.Subtotal})},l=a=>{m({...n,[a.target.name]:a.target.value})},j=async()=>{x(c.ID_Detalle,n),d(),r(null)},_=()=>{r(null)};return e.jsxs("div",{className:t.container,children:[e.jsxs("div",{className:t.formContainer,children:[e.jsx("h1",{className:t.formTitle,children:"Agregar Detalles de Pedido"}),e.jsxs("form",{onSubmit:b,className:t.form,children:[e.jsx("input",{className:t.input,type:"text",placeholder:"ID Pedido",required:!0,name:"ID_Pedido",value:o.ID_Pedido,onChange:s}),e.jsx("input",{className:t.input,type:"text",placeholder:"ID Producto",required:!0,name:"ID_Producto",value:o.ID_Producto,onChange:s}),e.jsx("input",{className:t.input,type:"text",placeholder:"Cantidad",required:!0,name:"Cantidad",value:o.Cantidad,onChange:s}),e.jsx("input",{className:t.input,type:"text",placeholder:"Precio Unitario",required:!0,name:"Precio_Unitario",value:o.Precio_Unitario,onChange:s}),e.jsx("input",{className:t.input,type:"text",placeholder:"Descuento",required:!0,name:"Descuento",value:o.Descuento,onChange:s}),e.jsx("input",{className:t.input,type:"text",placeholder:"Subtotal",required:!0,name:"Subtotal",value:o.Subtotal,onChange:s}),e.jsx("button",{type:"submit",className:t.button,children:"Guardar Detalles"})]})]}),e.jsxs("div",{className:t.listContainer,children:[e.jsx("h1",{className:t.listTitle,children:"Lista de Detalles de Pedido"}),e.jsx("div",{children:h.map(a=>e.jsxs("div",{className:t.detalleCard,children:[e.jsxs("div",{className:t.detalleInfo,children:[e.jsxs("p",{children:["ID Pedido: ",a.ID_Pedido]}),e.jsxs("p",{children:["ID Producto: ",a.ID_Producto]}),e.jsxs("p",{children:["Cantidad: ",a.Cantidad]}),e.jsxs("p",{className:t.monetaryValue,children:["Precio Unitario: $",a.Precio_Unitario]}),e.jsxs("p",{className:t.monetaryValue,children:["Descuento: $",a.Descuento]}),e.jsxs("p",{className:t.monetaryValue,children:["Subtotal: $",a.Subtotal]})]}),e.jsxs("div",{className:t.actions,children:[e.jsx("button",{onClick:()=>C(a.ID_Detalle),className:`${t.button} ${t.deleteButton}`,children:"Eliminar"}),e.jsx("button",{onClick:()=>P(a),className:`${t.button} ${t.editButton}`,children:"Editar"})]})]},a.ID_Detalle))}),c&&e.jsx("div",{className:t.modalOverlay,children:e.jsxs("div",{className:t.modalWindow,children:[e.jsx("span",{className:t.modalClose,onClick:_,children:"×"}),e.jsx("h3",{className:t.modalTitle,children:"Editar Detalle de Pedido"}),e.jsxs("div",{className:t.modalForm,children:[e.jsx("input",{className:t.input,type:"text",name:"ID_Pedido",value:n.ID_Pedido,onChange:l,placeholder:"ID Pedido"}),e.jsx("input",{className:t.input,type:"text",name:"ID_Producto",value:n.ID_Producto,onChange:l,placeholder:"ID Producto"}),e.jsx("input",{className:t.input,type:"text",name:"Cantidad",value:n.Cantidad,onChange:l,placeholder:"Cantidad"}),e.jsx("input",{className:t.input,type:"text",name:"Precio_Unitario",value:n.Precio_Unitario,onChange:l,placeholder:"Precio Unitario"}),e.jsx("input",{className:t.input,type:"text",name:"Descuento",value:n.Descuento,onChange:l,placeholder:"Descuento"}),e.jsx("input",{className:t.input,type:"text",name:"Subtotal",value:n.Subtotal,onChange:l,placeholder:"Subtotal"}),e.jsxs("div",{className:t.botones,children:[e.jsx("button",{onClick:j,className:t.button,children:"Guardar"}),e.jsx("button",{onClick:_,className:t.button,children:"Cancelar"})]})]})]})})]})]})};export{H as default};
