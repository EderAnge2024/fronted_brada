import{k as S,r as a,j as t}from"./index-DM_27y1d.js";const g="_container_1yfhn_3",P="_title_1yfhn_17",D="_formSection_1yfhn_31",w="_form_1yfhn_31",I="_select_1yfhn_65",T="_button_1yfhn_95",k="_buttonSecondary_1yfhn_125",$="_buttonEdit_1yfhn_141",A="_buttonDanger_1yfhn_157",L="_listSection_1yfhn_175",O="_estadoList_1yfhn_189",W="_estadoItem_1yfhn_201",F="_estadoText_1yfhn_215",G="_actions_1yfhn_225",U="_modalOverlay_1yfhn_239",q="_modalWindow_1yfhn_265",R="_modalClose_1yfhn_283",z="_modalTitle_1yfhn_301",B="_modalActions_1yfhn_313",e={container:g,title:P,formSection:D,form:w,select:I,button:T,buttonSecondary:k,buttonEdit:$,buttonDanger:A,listSection:L,estadoList:O,estadoItem:W,estadoText:F,actions:G,modalOverlay:U,modalWindow:q,modalClose:R,modalTitle:z,modalActions:B},J=()=>{const{addEstadoPedido:u,fetchEstadoPedido:s,estadoPedidos:_,deleteEstadoPedido:E,updateEstadoPedido:x}=S(),[l,n]=a.useState(null),[i,c]=a.useState({Estado:""}),[r,m]=a.useState({Estado:""});a.useEffect(()=>{s()},[s]);const f=o=>{const{name:d,value:C}=o.target;c(N=>({...N,[d]:C}))},j=async o=>{o.preventDefault(),await u(i),c({Estado:""})},y=async o=>{window.confirm("¿Estás seguro de eliminar este estado de pedido?")&&(await E(o),s())},p=o=>{n(o),m({Estado:o.Estado})},v=o=>{m(d=>({...d,[o.target.name]:o.target.value}))},b=async()=>{await x(l.ID_EstadoPedido,r),s(),n(null)},h=()=>{n(null)};return t.jsxs("div",{className:e.container,children:[t.jsxs("div",{className:e.formSection,children:[t.jsx("h1",{className:e.title,children:"Agregar estado de pedido"}),t.jsxs("form",{onSubmit:j,className:e.form,children:[t.jsxs("select",{required:!0,name:"Estado",value:i.Estado,onChange:f,className:e.select,children:[t.jsx("option",{value:"",children:"Seleccione un estado"}),t.jsx("option",{value:"En Proceso",children:"En Proceso"}),t.jsx("option",{value:"Completado",children:"Completado"}),t.jsx("option",{value:"Cancelado",children:"Cancelado"}),t.jsx("option",{value:"Enviado",children:"Enviado"})]}),t.jsx("button",{type:"submit",className:e.button,children:"Guardar Datos"})]})]}),t.jsxs("div",{className:e.listSection,children:[t.jsx("h1",{className:e.title,children:"Lista de estados de pedido"}),t.jsx("div",{className:e.estadoList,children:_.map(o=>t.jsxs("div",{className:e.estadoItem,children:[t.jsxs("p",{className:e.estadoText,children:[t.jsx("strong",{children:"Estado:"})," ",o.Estado]}),t.jsxs("div",{className:e.actions,children:[t.jsx("button",{onClick:()=>y(o.ID_EstadoPedido),className:`${e.button} ${e.buttonDanger}`,children:"Eliminar"}),t.jsx("button",{onClick:()=>p(o),className:`${e.button} ${e.buttonEdit}`,children:"Editar"})]})]},o.ID_EstadoPedido))}),l&&t.jsx("div",{className:e.modalOverlay,children:t.jsxs("div",{className:e.modalWindow,children:[t.jsx("span",{className:e.modalClose,onClick:h,children:"×"}),t.jsx("h3",{className:e.modalTitle,children:"Editar estado de pedido"}),t.jsxs("select",{name:"Estado",value:r.Estado,onChange:v,className:e.select,children:[t.jsx("option",{value:"En Proceso",children:"En Proceso"}),t.jsx("option",{value:"Completado",children:"Completado"}),t.jsx("option",{value:"Cancelado",children:"Cancelado"}),t.jsx("option",{value:"Enviado",children:"Enviado"})]}),t.jsxs("div",{className:e.modalActions,children:[t.jsx("button",{onClick:b,className:e.button,children:"Guardar"}),t.jsx("button",{onClick:h,className:`${e.button} ${e.buttonSecondary}`,children:"Cancelar"})]})]})})]})]})};export{J as default};
